<!DOCTYPE html>
<html>
  <head th:insert="librerias::librerias">
    <title>Cambio de Contraseña</title>
    
  </head>
  <body>
    <div th:insert="top"></div>
    <div class="container-fluid">
      <div class="row">
        <nav class="col-md-2 d-none d-md-block bg-light sidebar">
          <div class="sidebar-sticky">
            <ul class="nav nav-pills flex-column">
              <li class="nav-item">
                <a class="nav-link menu" id="data" aria-current="page" href="#"><span class="fas fa-user fa-sm fa-fw mr-3"></span>Mis datos</a>
              </li>
              <li class="nav-item">
                <a class="nav-link menu" id="contras" href="#"><span class="fas fa-lock fa-sm fa-fw mr-3"></span>Contraseña</a>
              </li>
              <li class="nav-item">
                <a class="nav-link menu" id="prefer" href="#"><span class="fas fa-sliders-h fa-sm fa-fw mr-3"></span>Preferencias</a>
              </li>
              
            </ul>
          </div>
        </nav>
        
        <div class="col-md-10 ml-sm-auto px-4" id="datos">
        <h1>Mis datos</h1>
          <form action="#" th:action="@{/seguridad/password/changeData}" th:object="${usuarioActual}" class="w-50 p-3" method="post">
            <div class="form-group">
              <label for="inputName">Nombre</label>
              <input type="text" th:field="*{nombre}" class="form-control" id="inputName" th:attr="placeholder=${usuarioActual.nombre}">
            </div>
            <div class="form-group">
              <label for="inputUsername">Nombre de usuario</label>
              <input type="text" th:field="*{username}" class="form-control" id="inputUsername" th:attr="placeholder=${usuarioActual.username}">
            </div>
            <button type="submit" class="btn btn-primary mt-3 float-end">Editar</button>
          </form>
        </div>
        
        <div class="col-md-10 ml-sm-auto px-4" id="passwd">
          <h1>Cambio de Contraseña</h1>
          <form action="#" th:action="@{/seguridad/password/changePassword}" th:object="${usuarioPassword}" class="w-50 p-3" method="post">
            <div class="form-group">
              <label for="inputPassword">Contraseña Actual</label>
              <input type="password" th:field="*{actual}" class="form-control" id="inputPassword" placeholder="Contraseña Actual">
            </div>
            <div class="form-group">
              <label for="inputNewPassword">Nueva Contraseña</label>
              <input type="password" th:field="*{nueva}" class="form-control" id="inputNewPassword" placeholder="Nueva Contraseña">
            </div>
            <div class="form-group">
              <label for="inputConfirmPassword">Confirmar Nueva Contraseña</label>
              <input type="password" th:field="*{confirm}" class="form-control" id="inputConfirmPassword" placeholder="Confirmar Nueva Contraseña">
            </div>
            <button type="submit" class="btn btn-primary mt-3 float-end">Cambiar Contraseña</button>
          </form>
        </div>
      </div>
    </div>
  </body>
  <link rel="stylesheet" th:href="@{/css/contras.css}">
  <script th:src="@{/js/seguridadScript.js}"></script>
  <script>
    th:if("${campoPasswordFoco}"){
        document.getElementById("contras").focus();
        }
        
    </script>

</html>
