<!DOCTYPE html>
<html>

<head th:insert="librerias::librerias">
	<title>Cambio de Contraseña</title>

</head>

<body>
	<div th:insert="top"></div>
	<div class="container-fluid">
		<div class="row">
			<nav class="col-md-2 d-none d-md-block bg-light sidebar">
				<div class="sidebar-sticky">
					<ul class="nav nav-pills flex-column">
						<li class="nav-item">
							<a class="nav-link menu" id="data" aria-current="page" href="#"><span
									class="fas fa-user fa-sm fa-fw mr-3"></span>Mis datos</a>
						</li>
						<li class="nav-item">
							<a class="nav-link menu" id="contras" href="#"><span
									class="fas fa-lock fa-sm fa-fw mr-3"></span>Contraseña</a>
						</li>
						<li class="nav-item">
							<a class="nav-link menu" id="prefer" href="#"><span
									class="fas fa-sliders-h fa-sm fa-fw mr-3"></span>Preferencias</a>
						</li>
						<li class="nav-item">
							<a class="nav-link menu" id="operat" href="#"><span
									class="fas fa-wrench fa-sm fa-fw mr-3"></span>Operaciones</a>
						</li>

					</ul>
				</div>
			</nav>

			<div class="col-md-10 ml-sm-auto px-4" id="datos">
				<h1>Mis datos</h1>
				<form action="#" th:action="@{/seguridad/password/changeData}" th:object="${usuarioActual}"
					class="w-50 p-3" method="post">
					<div class="form-group">
						<label for="inputName">Nombre</label>
						<input type="text" th:field="*{nombre}" class="form-control" id="inputName"
							th:attr="placeholder=${usuarioActual.nombre}">
					</div>
					<div class="form-group">
						<label for="inputUsername">Nombre de usuario</label>
						<input type="text" th:field="*{username}" class="form-control" id="inputUsername"
							th:attr="placeholder=${usuarioActual.username}">
					</div>
					<button type="submit" class="btn btn-primary mt-3 float-end">Editar</button>
				</form>
			</div>

			<div class="col-md-10 ml-sm-auto px-4" id="passwd">
				<h1>Cambio de Contraseña</h1>
				<form action="#" th:action="@{/seguridad/password/changePassword}" th:object="${usuarioPassword}"
					class="w-50 p-3" method="post">
					<div class="form-group">
						<label for="inputPassword">Contraseña Actual</label>
						<input type="password" th:field="*{actual}" class="form-control" id="inputPassword"
							placeholder="Contraseña Actual">
					</div>
					<div class="form-group">
						<label for="inputNewPassword">Nueva Contraseña</label>
						<input type="password" th:field="*{nueva}" class="form-control" id="inputNewPassword"
							placeholder="Nueva Contraseña">
					</div>
					<div class="form-group">
						<label for="inputConfirmPassword">Confirmar Nueva Contraseña</label>
						<input type="password" th:field="*{confirm}" class="form-control" id="inputConfirmPassword"
							placeholder="Confirmar Nueva Contraseña">
					</div>
					<button type="submit" class="btn btn-primary mt-3 float-end">Cambiar Contraseña</button>
				</form>
			</div>

			<div class="col-md-10 ml-sm-auto px-4" id="operaciones">
				<h2>Operaciones</h2>
				<div class="col">
					<div class="col">
						<h4>Alumnos</h4>
						<div class="d-flex w-75 justify-content-around">
							<button type="button" class="btn btn-primary col-md-2" data-toggle="modal"
								data-target="#crearAlumno">Insertar</button>
							<button type="button" class="btn btn-danger col-md-2" data-toggle="modal" data-target="#modal-delete">Eliminar</button>
							<button type="button" class="btn btn-warning col-md-3">Buscar por nombre</button>
							<button type="button" class="btn btn-warning col-md-3">Buscar por DNI</button>
						</div>
					</div>
					<div class="col">
						<h4>Profesores</h4>
						<div class="d-flex w-75 justify-content-around">
							<button type="button" class="btn btn-primary col-md-2">Insertar</button>
							<button type="button" class="btn btn-danger col-md-2">Eliminar</button>
							<button type="button" class="btn btn-warning col-md-3">Buscar por nombre</button>
							<button type="button" class="btn btn-warning col-md-3">Buscar por DNI</button>
						</div>
					</div>
					<div class="col">
						<h4>Coches</h4>
						<div class="d-flex w-75 justify-content-around">
							<button type="button" class="btn btn-primary col-md-2">Insertar</button>
							<button type="button" class="btn btn-danger col-md-2">Eliminar</button>
							<button type="button" class="btn btn-warning col-md-3">Buscar por marca</button>
							<button type="button" class="btn btn-warning col-md-3">Buscar por matrícula</button>
						</div>
					</div>
				</div>
			</div>

<!-- create alumno modal-->
			<div class="modal fade" id="crearAlumno">
				<div class="modal-dialog" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<h4 class="modal-title" id="exampleModalLabel">Crear alumno/a</h4>
							<button class="close" type="button" data-dismiss="modal" aria-label="Close">
								<span aria-hidden="true">x</span>
							</button>
						</div>
						<div class="modal-body">
							<p class="error-text">Introduce el nombre para nuevo/a alumno/a:
								<!--formulario nombre a editar-->
							<form action="#" th:action="@{/seguridad/password/addAlumno}" th:object="${alumnoNuevo}" method="post">
								<div class"form-row">
									<div class="form-group mt-1">
										<label for="dni">Dni</label>
										<input type="text" th:field="*{dni}" class="form-control" id="dni"
											placeholder="DNI" />
										<label for="nombre">Nombre</label>
										<input type="text" th:field="*{nombre}" class="form-control" id="nombre"
											placeholder="Nombre" />
										<label for="apellidos">Apellidos</label>
										<input type="text" th:field="*{apellidos}" class="form-control" id="apellidos"
											placeholder="Apellidos" />
										<div>
											<label for="profe">Profesor</label>
											<select th:field="*{profesor.id}" name="profesor" id="profe">
												<option th:each="profe:${listaProfesores}" th:value="${profe.id}"
													th:text="${profe.nombre}" value="">Seleccionar profesor</option>
											</select>
										</div>
										<div>
											<label for="coche">Coche</label>
											<select th:field="*{coche.id}" name="profesor" id="coche">
												<option th:each="coche:${listaCoches}" th:value="${coche.id}"
													th:text="${coche.marca}+'-'+${coche.matricula}" value="">Seleccionar
													coche
												</option>
											</select>
										</div>
									</div>
								</div>
						</div>
						<div class="modal-footer">
							<button class="btn btn-secondary btn-sm" data-dismiss="modal"
								aria-hidden="true">Cancelar</button>
							<input type="submit" value="Crear" class="btn btn-primary float-right" />
						</div>
						</form>
					</div>
				</div>
			</div>
			<!-- fin create modal-->
			
			<!--delete modal alumno-->
		<div class="modal fade" th:id="modal-delete">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h4 class="modal-title" id="exampleModalLabel">Eliminar Alumno</h4>
						<button class="close btn btn-danger" type="button" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">x</span>
						</button>
					</div>
					<div class="modal-body">
						<p class="error-text">Introduce el ID del alumnon a eliminar</p>
						
						
						<!--formulario nombre-->
						<form action="#" th:action="@{/seguridad/password/deleteAlumno}" th:object="${alumnoaEliminar}"
							method="get">
							<div class"form-row">
								<div class="form-group mt-1">
									<label for="texto">ID</label>
									<input type="text" th:field="*{id}" class="form-control" id="exampleInputName"/>
								</div>
							</div>
					</div>
					<div class="modal-footer">
						<button class="btn btn-secondary btn-sm" data-dismiss="modal"
							aria-hidden="true">Cancelar</button>
						<input id="sent" type="submit" th:value="Buscar" class="btn btn-primary float-right"/>
					</div>
					</form>
				</div>
			</div>
		</div>

	<!-- fin delete modal alumno-->


		</div>
	</div>
</body>
<link rel="stylesheet" th:href="@{/css/contras.css}">
<script th:src="@{/js/seguridadScript.js}"></script>


</html>